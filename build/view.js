!function(){"use strict";function t(){const t=document.querySelector(".navygator-toc-wrapper");if(!t)return;const o=t.querySelector(".navygator-toc"),i=t.querySelector(".navygator-toc-toggle"),r=t.querySelector(".navygator-toc-close"),s=t.querySelector(".navygator-toc-backdrop"),c=t.querySelectorAll(".navygator-toc-link");function a(){o&&o.classList.remove("is-open"),s&&s.classList.remove("is-visible"),document.body.classList.remove("navygator-toc-open")}function u(){o&&o.classList.remove("is-open")}i&&i.addEventListener("click",function(){window.innerWidth<=768?(o&&o.classList.add("is-open"),s&&s.classList.add("is-visible"),document.body.classList.add("navygator-toc-open")):o&&(o.classList.contains("is-open")?u():o&&o.classList.add("is-open"))}),r&&r.addEventListener("click",function(){window.innerWidth<=768?a():u()}),s&&s.addEventListener("click",a),document.addEventListener("keydown",function(t){"Escape"===t.key&&o&&o.classList.contains("is-open")&&(window.innerWidth<=768?a():u())}),c.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();const n=this.getAttribute("href").substring(1),e=document.getElementById(n);if(e){window.innerWidth<=768?a():u();const t=-20,o=e.getBoundingClientRect().top+window.pageYOffset+t;window.scrollTo({top:o,behavior:"smooth"}),history.pushState&&history.pushState(null,null,"#"+n)}})}),function(t){const o=Array.from(t).map(function(t){return t.getAttribute("href").substring(1)}).map(function(t){return document.getElementById(t)}).filter(function(t){return null!==t});if(0===o.length)return;let i=null;const r=new IntersectionObserver(function(o){o.forEach(function(o){o.isIntersecting&&(i=o.target,n(o.target.id,t),e(o.target.id,t))})},{rootMargin:"-20% 0px -35% 0px",threshold:0});o.forEach(function(t){r.observe(t)});const s=function(t){const n=window.scrollY+100;for(let e=t.length-1;e>=0;e--){const o=t[e];if(o.offsetTop<=n)return o.id}return t[0]?t[0].id:null}(o);n(s,t),e(s,t)}(c)}function n(t,n){n.forEach(function(n){n.getAttribute("href").substring(1)===t?n.classList.add("is-active"):n.classList.remove("is-active")})}function e(t,n){const e=Array.from(n).find(function(n){return n.getAttribute("href").substring(1)===t});if(!e)return;const o=document.querySelector(".navygator-toc");if(!o)return;const i=o.getBoundingClientRect(),r=e.getBoundingClientRect(),s=r.top-i.top,c=r.bottom-i.top,a=i.height;if(s<0||c>a){o.scrollTop;const t=e.offsetTop-a/2+r.height/2;o.scrollTo({top:Math.max(0,t),behavior:"smooth"})}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}();