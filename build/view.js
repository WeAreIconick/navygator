!function(){"use strict";function t(){const t=document.querySelector(".navygator-toc-wrapper");if(!t)return;const o=t.querySelector(".navygator-toc"),i=t.querySelector(".navygator-toc-toggle"),r=t.querySelector(".navygator-toc-close"),s=t.querySelector(".navygator-toc-backdrop"),a=t.querySelectorAll(".navygator-toc-link");function c(){o&&o.classList.remove("is-open"),s&&s.classList.remove("is-visible"),document.body.classList.remove("navygator-toc-open")}function l(){o&&(o.classList.remove("is-open"),o.style.setProperty("opacity","0","important"),o.style.setProperty("visibility","hidden","important"),o.style.setProperty("transform","translateY(-10px) scale(0.95)","important"),o.style.setProperty("transition","all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","important"),s&&(s.style.setProperty("opacity","0","important"),s.style.setProperty("visibility","hidden","important"),s.style.setProperty("transition","all 0.3s ease","important")))}i&&i.addEventListener("click",function(t){t.preventDefault(),window.innerWidth<=768?(o&&o.classList.add("is-open"),s&&s.classList.add("is-visible"),document.body.classList.add("navygator-toc-open")):o&&(o.classList.contains("is-open")?l():o&&(o.classList.add("is-open"),o.style.setProperty("opacity","1","important"),o.style.setProperty("visibility","visible","important"),o.style.setProperty("transform","translateY(0) scale(1)","important"),o.style.setProperty("transition","all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","important"),s&&(s.style.setProperty("opacity","1","important"),s.style.setProperty("visibility","visible","important"),s.style.setProperty("transition","all 0.3s ease","important"))))}),r&&r.addEventListener("click",function(){window.innerWidth<=768?c():l()}),s&&s.addEventListener("click",c),document.addEventListener("keydown",function(t){"Escape"===t.key&&o&&o.classList.contains("is-open")&&(window.innerWidth<=768?c():l())}),a.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();const e=this.getAttribute("href").substring(1),n=document.getElementById(e);if(n){window.innerWidth<=768?c():l();const t=-20,o=n.getBoundingClientRect().top+window.pageYOffset+t;window.scrollTo({top:o,behavior:"smooth"}),history.pushState&&history.pushState(null,null,"#"+e)}})}),function(t){const o=Array.from(t).map(function(t){return t.getAttribute("href").substring(1)}).map(function(t){return document.getElementById(t)}).filter(function(t){return null!==t});if(0===o.length)return;let i=null;const r=new IntersectionObserver(function(o){o.forEach(function(o){o.isIntersecting&&(i=o.target,e(o.target.id,t),n(o.target.id,t))})},{rootMargin:"-20% 0px -35% 0px",threshold:0});o.forEach(function(t){r.observe(t)});const s=function(t){const e=window.scrollY+100;for(let n=t.length-1;n>=0;n--){const o=t[n];if(o.offsetTop<=e)return o.id}return t[0]?t[0].id:null}(o);e(s,t),n(s,t)}(a)}function e(t,e){e.forEach(function(e){e.getAttribute("href").substring(1)===t?e.classList.add("is-active"):e.classList.remove("is-active")})}function n(t,e){const n=Array.from(e).find(function(e){return e.getAttribute("href").substring(1)===t});if(!n)return;const o=document.querySelector(".navygator-toc");if(!o)return;const i=o.getBoundingClientRect(),r=n.getBoundingClientRect(),s=r.top-i.top,a=r.bottom-i.top,c=i.height;if(s<0||a>c){o.scrollTop;const t=n.offsetTop-c/2+r.height/2;o.scrollTo({top:Math.max(0,t),behavior:"smooth"})}}window.navygatorInitialized||(window.navygatorInitialized=!0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t())}();